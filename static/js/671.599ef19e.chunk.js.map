{"version":3,"file":"static/js/671.599ef19e.chunk.js","mappings":"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","sources":["API.js","components/Gallery/Gallery.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/clsx/dist/clsx.m.js","components/Form/Form.styled.js","components/Form/Form.js","pages/Movies.js"],"sourcesContent":["const URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'a55c18ac154a966c26e6806cf2228fab';\n\nexport const getMovieTrending = () => {\n  return fetch(\n    `${URL}trending/movie/day?api_key=${API_KEY}&language=en-US`\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Нет фильмов с таким названием'));\n  });\n};\n\nexport const getMovieSearch = (query, page) => {\n  return fetch(\n    `${URL}search/movie?api_key=${API_KEY}&query=${query}&include_adult=false&language=en-US&page=${page}`\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Нет фильмов с таким названием'));\n  });\n};\n\nexport const getMovieId = id => {\n  return fetch(`${URL}movie/${id}?api_key=${API_KEY}&language=en-US`).then(\n    res => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error('Нет фильмов с таким названием'));\n    }\n  );\n};\n\nexport const getMovieCast = id => {\n  return fetch(`${URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`).then(\n    res => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error('Нет фильмов с таким названием'));\n    }\n  );\n};\n\nexport const getMovieReviews = id => {\n  \n  return fetch(`${URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`).then(\n    res => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error('Нет фильмов с таким названием'));\n    }\n  );\n};","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\n\nexport default function Gallery({ filmTrends, location, to }) {\n\n  return (\n    <ul >\n      { filmTrends.map(({ id, title }, index) => {\n        return (\n          <li key={id + index}>\n            <Link\n              \n              to={`${to}${id}`}\n              state={{ from: location }}\n            >\n              {title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nGallery.propTypes = {\n  filmTrends: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      title: PropTypes.string,\n    })\n  ),\n  location: PropTypes.object,\n  to: PropTypes.string,\n};","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #e9e9e9;\n  padding: 0 20px 0 0;\n  border-radius: 10px;\n  overflow: hidden;\n  \n`;\nexport const Label = styled.label`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n \n`;\nexport const Button = styled.button`\n  display: inline-block;\n  background-color: #e9e9e9;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  font-size: 18px;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border-radius: 5px;\n  border: none;\n  outline: none;\n  padding: 4px 10px;\n`;\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { Form, Input, Button, Label } from './Form.styled';\n\nexport default function SearchForm ({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSumbit = event => {\n    event.preventDefault();\n    if (query.trim() === '') {\n      toast('Введите имя');\n      return;\n    }\n    console.log('hello')\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <Form onSubmit={handleSumbit}>\n      <Button type=\"submit\" >\n        <Label>Search</Label>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n          width=\"1em\"\n          height=\"1em\"\n        >\n          <path d=\"M23.707,22.293l-5.969-5.969a10.016,10.016,0,1,0-1.414,1.414l5.969,5.969a1,1,0,0,0,1.414-1.414ZM10,18a8,8,0,1,1,8-8A8.009,8.009,0,0,1,10,18Z\" />\n        </svg>\n      </Button>\n\n      <Input\n        value={query}\n        onChange={handleChange}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search films\"\n      />\n    </Form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func,\n};","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getMovieSearch } from 'API';\nimport Gallery from 'components/Gallery/Gallery';\nimport Form from '../components/Form/Form';\nimport { useLocation } from 'react-router-dom';\nimport { Text } from '@mantine/core';\n\nexport default function Movies() {\n  const [results, setResults] = useState([]);\n  const [totalPage, setTotalPage] = useState('');\n  const [error, setError] = useState(null);\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const page = 1;\n  const query = searchParams.get('query');\n  const currentPage = searchParams.get('page');\n\n  useEffect(() => {\n    if (!query) return;\n    getMovieSearch(query, currentPage)\n      .then(({ results, total_pages }) => {\n        setResults(preResults => [...preResults, ...results]);\n        setTotalPage(total_pages);\n      })\n      .catch(e => {\n        setError(e.message);\n      });\n  }, [currentPage, query, setTotalPage, setResults]);\n\n  const onSubmit = query => {\n    setSearchParams({ query, page: String(page) });\n    setResults([]);\n  };\n\n  const onClick = () => {\n    setSearchParams({ query: query, page: String(Number(currentPage) + 1) });\n  };\n\n  if (error) {\n    return (\n      <>\n        <Form onSubmit={onSubmit} />\n        <Text weight={600} size={32} color=\"red\">\n          Error: {error}\n        </Text>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Form onSubmit={onSubmit} />\n      <Gallery filmTrends={results} to={'/movies/'} location={location} />\n\n      {page < totalPage && <button onClick={onClick}> Load more</button>}\n    </>\n  );\n}\n"],"names":["URL","API_KEY","getMovieTrending","fetch","concat","then","res","ok","json","Promise","reject","Error","getMovieSearch","query","page","getMovieId","id","getMovieCast","getMovieReviews","Gallery","_ref","filmTrends","location","to","_jsx","children","map","_ref2","index","title","Link","state","from","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","sourceSymbolKeys","prototype","propertyIsEnumerable","call","r","e","t","f","n","Array","isArray","Form","styled","_templateObject","_taggedTemplateLiteral","Label","_templateObject2","Button","_templateObject3","Input","_templateObject4","SearchForm","onSubmit","_useState","useState","_useState2","_slicedToArray","setQuery","_jsxs","event","preventDefault","trim","console","log","toast","type","xmlns","fill","viewBox","width","height","d","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","Movies","results","setResults","_useState3","_useState4","totalPage","setTotalPage","_useState5","_useState6","error","setError","useLocation","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","currentPage","useEffect","total_pages","preResults","_toConsumableArray","catch","message","String","_Fragment","Text","weight","size","color","onClick","Number"],"sourceRoot":""}